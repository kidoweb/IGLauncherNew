function addPost(event) {
  event.preventDefault(); // Останавливает стандартное поведение формы

  const title = document.getElementById('title').value;
  const text = document.getElementById('text').value;
  const notification = document.getElementById('notification');

  if (title && text) {
    console.log('Добавление данных в Firebase');

    const postsRef = ref(database, 'posts');
    const newPostRef = push(postsRef);

    set(newPostRef, {
      title: title,
      text: text,
      timestamp: Date.now() // добавляем метку времени
    }).then(() => {
      console.log('Данные успешно добавлены');
      notification.textContent = 'Пост успешно добавлен!';
      notification.className = 'success';
      notification.style.display = 'block';
      notification.style.opacity = '1';

      document.getElementById('postForm').reset();

      setTimeout(() => {
        notification.style.opacity = '0';
      }, 3000);
    }).catch((error) => {
      console.error('Ошибка при добавлении поста:', error);
      notification.textContent = 'Ошибка при добавлении поста: ' + error.message;
      notification.className = 'error';
      notification.style.display = 'block';
      notification.style.opacity = '1';

      setTimeout(() => {
        notification.style.opacity = '0';
      }, 3000);
    });
  } else {
    console.log('Не все поля заполнены');
    notification.textContent = 'Пожалуйста, заполните все поля.';
    notification.className = 'error';
    notification.style.display = 'block';
    notification.style.opacity = '1';

    setTimeout(() => {
      notification.style.opacity = '0';
    }, 3000);
  }
}
